<% layout('layout') -%>

<section class="contact-container">
  <form id="newsletterForm" class="contact-form" action="/subscribe" method="POST">
    <h2>📬 Εγγραφή στο Newsletter</h2>
    <p>Λάβε νέα, ενημερώσεις και προσφορές πρώτος/η!</p>

    <label for="email">Email</label>
    <input type="email" name="email" id="email" placeholder="Το email σου" required>

    <div style="margin-bottom: 1rem;">
      <input type="checkbox" name="terms" id="terms" required>
      <label for="terms">
        Αποδέχομαι τους
        <a href="/privacy-policy" target="_blank">Όρους Χρήσης & την Πολιτική Απορρήτου</a>
        και συναινώ στην επεξεργασία των προσωπικών μου δεδομένων.
      </label>
    </div>

    <button id="submitBtn" type="submit">
      <span class="btn-text">✅ Εγγραφή</span>
      <span class="loader" style="display: none;"></span>
    </button>
  </form>
</section>

<script>
document.getElementById("submitBtn").addEventListener("click", function () {
  const btn = this;
  const text = btn.querySelector(".btn-text");
  const loader = btn.querySelector(".loader");

  text.textContent = "Εγγραφή...";
  loader.style.display = "inline-block";
  btn.disabled = true;
});
</script>

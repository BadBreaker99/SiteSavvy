<% layout('layout') -%>

<header class="hero">
 
<section class="newsletter" id="newsletter">
  <h2>📬 Ενημερώσου Πρώτος</h2>
  <p>Εγγράψου για να λαμβάνεις νέα, προσφορές και ενημερώσεις για νέες υπηρεσίες.</p>

  <form id="newsletterForm" method="POST" action="/newsletter">
    <input type="email" name="email" placeholder="Το email σου" required>

    <label class="gdpr-consent">
      <input type="checkbox" name="gdpr_consent" required>
      Συμφωνώ να λαμβάνω ενημερωτικά emails και αποδέχομαι την <a href="/privacy-policy" target="_blank">πολιτική απορρήτου</a>.
    </label>

    <button id="submitNewsletter" type="submit">
      <span class="btn-text">✅ Εγγραφή</span>
      <span class="loader" style="display: none;"></span>
    </button>
  </form>
</section>
</header>

<section class="features" id="services">
  <h2>Τι σου προσφέρουμε</h2>
  <div class="features-grid">
    <div class="feature-card">
      <h3>🔧 Κατασκευή Ιστοσελίδας</h3>
      <p>Σύγχρονα, responsive websites για κάθε επαγγελματία.</p>
    </div>
    <div class="feature-card">
      <h3>📧 Επαγγελματικό Email</h3>
      <p>Δικό σου email με domain για μεγαλύτερη αξιοπιστία.</p>
    </div>
    <div class="feature-card">
      <h3>📍 Google Προβολή</h3>
      <p>Σε βρίσκουν όταν σε ψάχνουν, με SEO και Google setup.</p>
    </div>
  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("newsletterForm");
  if (!form) return;

  form.addEventListener("submit", function (e) {
    const consent = form.querySelector('input[name="gdpr_consent"]');
    if (!consent.checked) {
      alert("Πρέπει να αποδεχτείς την πολιτική απορρήτου.");
      e.preventDefault();
      return;
    }

    const submitBtn = form.querySelector("button");
    const text = submitBtn.querySelector(".btn-text");
    const loader = submitBtn.querySelector(".loader");

    text.textContent = "Εγγραφή...";
    loader.style.display = "inline-block";
    submitBtn.disabled = true;
  });
});
</script>



<footer>
  <div class="footer-container">
    <p>&copy; 2025 SiteSavvy. Με αγάπη από την Ελλάδα 🇬🇷</p>
    <p><a href="mailto:info@sitesavvy.gr">info@sitesavvy.gr</a></p>
  </div>
</footer>
<% if (query.subscribed === 'true') { %>
  <div class="success-message" style="background: #d4edda; color: #155724; padding: 1rem; text-align: center; margin-bottom: 1rem;">
    ✅ Ευχαριστούμε! Η εγγραφή στο newsletter ολοκληρώθηκε με επιτυχία.
  </div>
<% } %>

